# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω)
# git clone <repo-url>
# cd consolidator-premium

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cat > .env << 'EOF'
DATABASE_URL="file:./prisma/dev.db"
NODE_ENV=development
EOF
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
DATABASE_URL="file:./prisma/dev.db"
NODE_ENV=development
```

## –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:generate

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run prisma:migrate

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û—Ç–∫—Ä—ã—Ç—å Prisma Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ë–î
npm run prisma:studio
```

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
- **Frontend**: http://localhost:3000/catalog
- **API Docs**: —Å–º. [server/README.md](./server/README.md)

## –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã

```bash
# –°–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x examples/api-examples.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã
./examples/api-examples.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```bash
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏
curl http://localhost:3000/api/events/ev_test_early/control-points

# –ò–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ (Visa)
curl -X POST http://localhost:3000/api/payments/simulate \
  -H "Content-Type: application/json" \
  -d '{
    "eventId": "ev_test_early",
    "cardNumber": "4532015112830366",
    "expiry": "12/25",
    "cvc": "123",
    "amount": 1000
  }'
```

## –®–∞–≥ 6: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –° UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
npm run test:ui

# –í watch —Ä–µ–∂–∏–º–µ
npm test -- --watch
```

## üéØ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ü—Ä–æ–¥—é—Å–µ—Ä—ã (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π)
- **producer1** / pass1
- **producer2** / pass2

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

| –¢–∏–ø | –ù–æ–º–µ—Ä | CVV | –°—Ä–æ–∫ |
|-----|-------|-----|------|
| Visa | `4532015112830366` | 123 | 12/25 |
| MasterCard | `5425233430109903` | 456 | 03/26 |
| Mir | `2200000000000004` | 789 | 06/27 |

### –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∫–∞—Ä—Ç—ã (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫)
- `1234567890123456` - –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç Luhn
- `0000000000000000` - –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç Luhn

## üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

```
consolidator-premium/
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ control-points.get.ts
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ control-point.put.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ simulate.post.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ getNotices.ts      # –¢–µ–∫—Å—Ç—ã –∏–∑–≤–µ—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cardValidator.ts   # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma.ts          # Prisma client
‚îÇ   ‚îî‚îÄ‚îÄ README.md              # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma          # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ migrations/            # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ getNotices.test.ts
‚îÇ   ‚îî‚îÄ‚îÄ cardValidator.test.ts
‚îî‚îÄ‚îÄ examples/
    ‚îî‚îÄ‚îÄ api-examples.sh        # –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev                    # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm test                       # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:ui               # –¢–µ—Å—Ç—ã —Å UI

# Prisma
npm run prisma:generate       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:migrate        # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run prisma:studio         # –û—Ç–∫—Ä—ã—Ç—å Prisma Studio

# Production
npm run build                 # –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run start                 # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
```

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –û—à–∏–±–∫–∞: "Cannot find module '@prisma/client'"

```bash
npm run prisma:generate
```

### –û—à–∏–±–∫–∞: "Environment variable not found: DATABASE_URL"

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```env
DATABASE_URL="file:./prisma/dev.db"
```

### –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö?

```bash
rm prisma/dev.db
npm run prisma:migrate
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ?

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –ø—É—Å—Ç–æ–π –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π. –í—ã –º–æ–∂–µ—Ç–µ:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ mock-–¥–∞–Ω–Ω—ã–µ –∏–∑ `/public/mock/events.json`
2. –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ frontend (/create-event)
3. –î–æ–±–∞–≤–∏—Ç—å seed-—Å–∫—Ä–∏–ø—Ç –¥–ª—è Prisma

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: [server/README.md](./server/README.md)
- –û—Å–Ω–æ–≤–Ω–æ–π README: [README.md](./README.md)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Prisma Client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: `npm run prisma:generate`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `npm run dev` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏

---

**–ì–æ—Ç–æ–≤–æ! üéâ** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π!

