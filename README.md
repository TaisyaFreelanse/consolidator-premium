
# –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ç–æ—Ä ‚Äî MVP —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π

**Full-stack MVP (Nuxt 3 + Prisma + Vi—Ä—Ç—É–∞–ª—å–Ω–∞—è –ÆKassa)** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ –∏ –ø—Ä–∏–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Frontend
- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
- ‚úÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –≤ localStorage
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –∏ —Ç–∞–π–º–µ—Ä–æ–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∑–∞—è–≤–∏—Ç–µ–ª–∏ –∏ –ø—Ä–æ–¥—é—Å–µ—Ä—ã)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- ‚úÖ –ü—Ä–µ–º–∏—É–º UI: —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

### Backend (Stage 2 ‚Äî –ì–û–¢–û–í–û! ‚úÖ)
- ‚úÖ Prisma ORM —Å –º–æ–¥–µ–ª—è–º–∏ Event, EventStatusHistory, Payment
- ‚úÖ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (–ÆKassa)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç: Luhn, CVV, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –¢–µ—Å—Ç—ã —Å Vitest
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
DATABASE_URL="file:./prisma/dev.db"
NODE_ENV=development
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î)
npm run prisma:migrate

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û—Ç–∫—Ä—ã—Ç—å Prisma Studio
npm run prisma:studio
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: 
- **Frontend**: http://localhost:3000/catalog
- **API**: http://localhost:3000/api

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å UI
npm run test:ui

# Watch —Ä–µ–∂–∏–º
npm test -- --watch
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ [server/README.md](./server/README.md)

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `GET /api/events/:id/control-points` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏
- `PUT /api/events/:id/control-point` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É
- `POST /api/payments/simulate` ‚Äî –∏–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

- Visa: `4532015112830366`
- MasterCard: `5425233430109903`
- Mir: `2200000000000004`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
consolidator-premium/
‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã Nuxt
‚îÇ   ‚îú‚îÄ‚îÄ catalog.vue
‚îÇ   ‚îú‚îÄ‚îÄ monitoring.vue
‚îÇ   ‚îî‚îÄ‚îÄ create-event.vue
‚îú‚îÄ‚îÄ components/         # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Header.vue
‚îÇ   ‚îú‚îÄ‚îÄ AuthModal.vue
‚îÇ   ‚îî‚îÄ‚îÄ PaymentModal.vue
‚îú‚îÄ‚îÄ server/            # Backend API
‚îÇ   ‚îú‚îÄ‚îÄ api/          # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments/
‚îÇ   ‚îî‚îÄ‚îÄ utils/        # –£—Ç–∏–ª–∏—Ç—ã (getNotices, cardValidator)
‚îú‚îÄ‚îÄ stores/           # Pinia stores
‚îÇ   ‚îú‚îÄ‚îÄ events.ts
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts
‚îÇ   ‚îî‚îÄ‚îÄ monitoring.ts
‚îú‚îÄ‚îÄ prisma/           # Database schema
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma
‚îú‚îÄ‚îÄ tests/            # Vitest —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ getNotices.test.ts
‚îÇ   ‚îî‚îÄ‚îÄ cardValidator.test.ts
‚îî‚îÄ‚îÄ types/            # TypeScript types
    ‚îî‚îÄ‚îÄ index.ts
```

## üéØ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `t0` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è |
| `ti10` | –ù–∞—á–∞–ª–æ –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–æ–∫ |
| `ti20` | –û–∫–æ–Ω—á–∞–Ω–∏–µ –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–æ–∫ |
| `ti30` | –ù–∞—á–∞–ª–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–æ–≤ |
| `ti40` | –ù–∞—á–∞–ª–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è |
| `ti50` | –û–∫–æ–Ω—á–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è |
| `t999` | –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ |

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ –ë–î
- –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ (`isTest = true`)
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üìù –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ó–∞—è–≤–∏—Ç–µ–ª–∏ (applicant)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞
- –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–æ–∫
- –û–ø–ª–∞—Ç–∞ —É—á–∞—Å—Ç–∏—è

### –ü—Ä–æ–¥—é—Å–µ—Ä—ã (producer)
- –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–¥—é—Å–µ—Ä—ã:**
- `–ø—Ä–æ–¥1` / `–ø–∞—Ä1`
- `–ø—Ä–æ–¥2` / `–ø–∞—Ä2`

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: Nuxt 3, Vue 3, Tailwind CSS, Pinia
- **Backend**: Nuxt Server Routes, Prisma ORM
- **Database**: SQLite (dev), PostgreSQL (production ready)
- **Testing**: Vitest
- **Validation**: Zod

## üìä Stage 3-4 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- –†–∞—Å—á—ë—Ç –ø—Ä–æ—Ñ–∏—Ü–∏—Ç/–¥–µ—Ñ–∏—Ü–∏—Ç
- –°—Ü–µ–Ω–∞—Ä–∏–∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ (–ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (email, push)
- Webhooks –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary
