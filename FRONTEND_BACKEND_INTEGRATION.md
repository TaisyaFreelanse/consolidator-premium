# Frontend-Backend Integration Guide

## ğŸ¯ ĞĞ±Ğ·Ğ¾Ñ€

Ğ¤Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ±ĞµĞºĞµĞ½Ğ´Ğ¾Ğ¼. Ğ’ÑĞµ Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ¸ (Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ) Ğ·Ğ°Ğ¼ĞµĞ½ĞµĞ½Ñ‹ Ğ½Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ API-Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹.

---

## âœ… Ğ§Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾

### 1. **ĞĞ¾Ğ²Ñ‹Ğµ API Endpoints**

#### **Events API**
- `GET /api/events` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
- `GET /api/events/:id` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾ ID

#### **Monitoring API**
- `GET /api/monitoring/:eventId` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° (Ğ·Ğ°ÑĞ²ĞºĞ¸, Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸)

#### **Applications API**
- `POST /api/applications/create` - ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¾Ğ¹

---

### 2. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Stores**

#### **`stores/events.ts`**
- âœ… Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¸Ğ· `/api/events` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `/mock/events.json`
- âœ… Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ñ‡ĞµÑ€Ğ½Ğ¾Ğ²Ğ¸ĞºĞ¸ Ğ² `localStorage`
- âœ… Fallback Ğ½Ğ° Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ API

#### **`stores/monitoring.ts`**
- âœ… Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ñ‡ĞµÑ€ĞµĞ· `/api/monitoring/:eventId`
- âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ `eventId`
- âœ… ĞœĞµÑ‚Ğ¾Ğ´ `invalidate()` Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹
- âœ… Fallback Ğ½Ğ° Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ API

---

### 3. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹**

#### **`pages/monitoring.vue`**
- âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ `mon.fetchByEvent()` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `mon.byEvent()`
- âœ… Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ Ñ‡ĞµÑ€ĞµĞ· `/api/applications/create`
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹

#### **`components/PaymentModal.vue`**
- âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¿Ğ¾Ğ»Ñ Ğ´Ğ»Ñ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ĞºĞ°Ñ€Ñ‚Ñ‹ (Ğ½Ğ¾Ğ¼ĞµÑ€, ÑÑ€Ğ¾Ğº, CVV)
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ĞµĞ¹ ĞºĞ°Ñ€Ñ‚Ñ‹
- âœ… Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° ĞºĞ°Ñ€Ñ‚Ñ‹ (Ñ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸)
- âœ… Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ€Ğ¾ĞºĞ° Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ (MM/YY)

---

## ğŸš€ ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

### 1. **Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹**

```typescript
// stores/events.ts
async fetch() {
  // 1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¸Ğ· API
  const res = await fetch('/api/events')
  const apiEvents = await res.json()
  
  // 2. Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ñ‡ĞµÑ€Ğ½Ğ¾Ğ²Ğ¸ĞºĞ¸ Ğ¸Ğ· localStorage
  const customEvents = JSON.parse(localStorage.getItem('customEvents') || '[]')
  
  // 3. ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµĞ¼
  this.list = [...customEvents, ...apiEvents.data]
}
```

---

### 2. **Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°**

```typescript
// stores/monitoring.ts
async fetchByEvent(eventId: string) {
  // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼
  const res = await fetch(`/api/monitoring/${eventId}`)
  const data = await res.json()
  
  this.cache.set(eventId, data.data)
  return data.data
}
```

---

### 3. **ĞŸĞ¾Ğ´Ğ°Ñ‡Ğ° Ğ·Ğ°ÑĞ²ĞºĞ¸ Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¾Ğ¹**

```typescript
// pages/monitoring.vue
const handlePayment = async (paymentData) => {
  // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ½Ğ° Ğ±ĞµĞºĞµĞ½Ğ´
  const response = await fetch('/api/applications/create', {
    method: 'POST',
    body: JSON.stringify({
      eventId: ev.value.id,
      userId: auth.userCode,
      cardNumber: paymentData.cardNumber,
      expiry: paymentData.expiry,
      cvc: paymentData.cvc,
      amount: paymentData.amount
    })
  })
  
  // ĞŸĞ¾ÑĞ»Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ¹ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹ - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  mon.invalidate(ev.value.id)
  await loadMonitoringData()
}
```

---

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. **Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ ĞºĞ°Ñ€Ñ‚Ñ‹**

```
Visa:       4532015112830366  (CVV: 123, Ğ¡Ñ€Ğ¾Ğº: 12/25) âœ…
MasterCard: 5425233430109903  (CVV: 456, Ğ¡Ñ€Ğ¾Ğº: 03/26) âœ…
Mir:        2200000000000004  (CVV: 789, Ğ¡Ñ€Ğ¾Ğº: 06/27) âœ…
```

### 2. **ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²**

```bash
# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
curl http://localhost:3000/api/events

# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°
curl http://localhost:3000/api/monitoring/ev_test_early

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ
curl -X POST http://localhost:3000/api/applications/create \
  -H "Content-Type: application/json" \
  -d '{
    "eventId": "ev_test_early",
    "userId": "USER123",
    "cardNumber": "4532015112830366",
    "expiry": "12/25",
    "cvc": "123",
    "amount": 500
  }'
```

### 3. **Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¾Ğ²**

```bash
bash examples/api-examples.sh
```

---

## ğŸ“Š Ğ¡Ñ…ĞµĞ¼Ğ° Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend   â”‚
â”‚  (Nuxt 3)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ HTTP Requests
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API            â”‚
â”‚  (Nuxt Server Routes)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/events         â”‚
â”‚ GET /api/events/:id     â”‚
â”‚ GET /api/monitoring/:id â”‚
â”‚ POST /api/applications  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Prisma ORM
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database   â”‚
â”‚  (SQLite)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Event     â”‚
â”‚ â€¢ Payment   â”‚
â”‚ â€¢ History   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fallback ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ

Ğ•ÑĞ»Ğ¸ API Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:

```typescript
try {
  // ĞŸÑ‹Ñ‚Ğ°ĞµĞ¼ÑÑ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ· API
  const res = await fetch('/api/events')
  return await res.json()
} catch (error) {
  // Fallback Ğ½Ğ° Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  console.error('API unavailable, using mock data')
  const mockRes = await fetch('/mock/events.json')
  return await mockRes.json()
}
```

---

## ğŸ“ Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸

1. **Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼**: Ğ’ÑĞµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ Ñ Ñ„Ğ»Ğ°Ğ³Ğ¾Ğ¼ `isTest: true`
2. **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ**: ĞĞ¾Ğ¼ĞµÑ€Ğ° ĞºĞ°Ñ€Ñ‚ ĞĞ• ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
3. **Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ**: Luhn-Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ°Ñ€Ñ‚
4. **ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° ĞºÑÑˆĞ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
5. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ**: ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ° ĞºÑÑˆ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ

---

## ğŸ‰ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

âœ… **Ğ¤Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ±ĞµĞºĞµĞ½Ğ´Ğ¾Ğ¼**  
âœ… **ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° (Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ)**  
âœ… **Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ñ‹ (ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² Ğ‘Ğ”)**  
âœ… **ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸**

---

## ğŸ“š Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹

- [Backend API Documentation](server/README.md)
- [Quick Start Guide](QUICKSTART.md)
- [Stage 2 Implementation](STAGE_2_IMPLEMENTATION.md)
- [API Examples](examples/api-examples.sh)

---

**ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ! ğŸš€**

